"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[818],{80779:function(t,e,i){i.d(e,{rD:function(){return X}});var n=i(2265);function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach(function(e){var n;n=i[e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function s(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}function u(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var i,n=h(t);return i=e?Reflect.construct(n,arguments,h(this).constructor):n.apply(this,arguments),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var p=function(t,e){return(p=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};function d(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var g=function(){return(g=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function v(t,e,i,n){return new(i||(i=Promise))(function(r,o){function s(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):((e=t.value)instanceof i?e:new i(function(t){t(e)})).then(s,a)}c((n=n.apply(t,e||[])).next())})}function y(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function m(t,e){for(var i=0,n=e.length,r=t.length;i<n;i++,r++)t[r]=e[i];return t}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0===n)return!1;for(var r,o=0|e,s=Math.max(o>=0?o:n-Math.abs(o),0);s<n;){if((r=i[s])===t||"number"==typeof r&&"number"==typeof t&&isNaN(r)&&isNaN(t))return!0;s++}return!1}}),String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw TypeError('"this" is null or not defined');var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<i;){var o=e[r];if(t.call(n,o,r,e))return o;r++}}});var w=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.some(function(e){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()===e})},b=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},k=function(t){return[].filter.call(t,function(t){return"\n"!==t}).join("")},S=function(t){var e;return!("string"!=typeof t||"transparent"===(t=t.toLocaleLowerCase().trim())||/^rgba/.test(t)&&0===(null===(e=/([^\s,]+)\)$/.exec(t))?0:"object"==typeof e?NaN:"number"==typeof e?e:"string"==typeof e?"%"===e[e.length-1]?Number(e.slice(0,-1))/100:Number(e):NaN))},C=function(t,e){var i,n=(null===(i=t.padding)||void 0===i?void 0:i.split(" ").map(function(t){return e(t)}))||[0],r=0,o=0,s=0,a=0;switch(n.length){case 1:r=o=s=a=n[0];break;case 2:r=o=n[0],s=a=n[1];break;case 3:r=n[0],s=a=n[1],o=n[2];break;default:r=n[0],o=n[1],s=n[2],a=n[3]}var c={paddingTop:r,paddingBottom:o,paddingLeft:s,paddingRight:a};for(var u in c)c[u]=b(t,u)&&w(t[u],"string","number")?e(t[u]):c[u];return[r,o,s,a]},z=function(t){var e=[],i=Math.random()*t.map(function(t){return Number(t)}).reduce(function(t,i){if(i>0){var n=t+i;return e.push(n),n}return e.push(NaN),t},0);return e.findIndex(function(t){return i<=t})},x=function(t,e,i,n){void 0===n&&(n=1/0),n<=0&&(n=1/0);for(var r="",o=[],s=t.measureText("...").width,a=0;a<e.length;a++){r+=e[a];var c=t.measureText(r).width,u=i(o);if(n===o.length+1&&(c+=s),u<0)return o;if(c>u&&(o.push(r.slice(0,-1)),r=e[a]),n===o.length)return o[o.length-1]+="...",o}return r&&o.push(r),o.length||o.push(e),o},E=function(){function t(){this.subs=[]}return t.prototype.addSub=function(t){this.subs.includes(t)||this.subs.push(t)},t.prototype.notify=function(){this.subs.forEach(function(t){t.update()})},t}(),L="__proto__"in{};function O(t,e,i,n){Object.defineProperty(t,e,{value:i,enumerable:!!n,writable:!0,configurable:!0})}var I=Array.prototype,P=Object.create(I);["push","pop","shift","unshift","sort","splice","reverse"].forEach(function(t){P[t]=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=I[t].apply(this,e),r=this.__luckyOb__;return["push","unshift","splice"].includes(t)&&r.walk(this),r.dep.notify(),n}});var T=function(){function t(t){this.dep=new E,O(t,"__luckyOb__",this),Array.isArray(t)&&(L?t.__proto__=P:Object.getOwnPropertyNames(P).forEach(function(e){O(t,e,P[e])})),this.walk(t)}return t.prototype.walk=function(t){Object.keys(t).forEach(function(e){_(t,e,t[e])})},t}();function A(t){if(t&&"object"==typeof t)return"__luckyOb__"in t?t.__luckyOb__:new T(t)}function _(t,e,i){var n=new E,r=Object.getOwnPropertyDescriptor(t,e);if(!r||!1!==r.configurable){var o=r&&r.get,s=r&&r.set;o&&!s||2!=arguments.length||(i=t[e]);var a=A(i);Object.defineProperty(t,e,{get:function(){var e=o?o.call(t):i;return E.target&&(n.addSub(E.target),a&&a.dep.addSub(E.target)),e},set:function(e){e!==i&&(i=e,o&&!s||(s?s.call(t,e):i=e,a=A(e),n.notify()))}})}}var R=0,W=function(){function t(t,e,i,n){void 0===n&&(n={}),this.id=R++,this.$lucky=t,this.expr=e,this.deep=!!n.deep,this.getter="function"==typeof e?e:function(t){t+=".";for(var e=[],i="",n=0;n<t.length;n++){var r=t[n];if(/\[|\./.test(r))e.push(i),i="";else{if(/\W/.test(r))continue;i+=r}}return function(t){return e.reduce(function(t,e){return t[e]},t)}}(e),this.cb=i,this.value=this.get()}return t.prototype.get=function(){E.target=this;var t,e=this.getter.call(this.$lucky,this.$lucky);return this.deep&&(t=function(e){w(e,"array","object")&&Object.keys(e).forEach(function(i){t(e[i])})})(e),E.target=null,e},t.prototype.update=function(){var t=this.get(),e=this.value;this.value=t,this.cb.call(this.$lucky,t,e)},t}(),$=function(){function t(t,e){var i,n,r=this;this.version="1.7.25",this.htmlFontSize=16,this.rAF=function(){},this.boxWidth=0,this.boxHeight=0,"string"==typeof t?t={el:t}:1===t.nodeType&&(t={el:"",divElement:t}),this.config=t,this.data=e,t.flag||(t.flag="WEB"),t.el&&(t.divElement=document.querySelector(t.el)),t.divElement&&(t.canvasElement=document.createElement("canvas"),t.divElement.appendChild(t.canvasElement)),t.canvasElement&&(t.ctx=t.canvasElement.getContext("2d"),t.canvasElement.setAttribute("package","lucky-canvas@1.7.25"),t.canvasElement.addEventListener("click",function(t){return r.handleClick(t)})),this.ctx=t.ctx,this.initWindowFunction(),this.config.ctx||console.error("无法获取到 CanvasContext2D"),window&&"function"==typeof window.addEventListener&&window.addEventListener("resize",(i=function(){return r.resize()},n=null,function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n||(n=setTimeout(function(){i.apply(t,e),clearTimeout(n),n=null},300))})),window&&"function"==typeof window.MutationObserver&&new window.MutationObserver(function(){r.resize()}).observe(document.documentElement,{attributes:!0})}return t.prototype.resize=function(){var t,e;null===(e=(t=this.config).beforeResize)||void 0===e||e.call(t),this.setHTMLFontSize(),this.setDpr(),this.resetWidthAndHeight(),this.zoomCanvas()},t.prototype.initLucky=function(){if(this.resize(),!this.boxWidth||!this.boxHeight)return console.error("无法获取到宽度或高度")},t.prototype.handleClick=function(t){},t.prototype.setHTMLFontSize=function(){window&&(this.htmlFontSize=+window.getComputedStyle(document.documentElement).fontSize.slice(0,-2))},t.prototype.clearCanvas=function(){var t=[this.boxWidth,this.boxHeight],e=t[0],i=t[1];this.ctx.clearRect(-e,-i,2*e,2*i)},t.prototype.setDpr=function(){var t=this.config;t.dpr||(window?window.dpr=t.dpr=window.devicePixelRatio||1:t.dpr||console.error(t,"未传入 dpr 可能会导致绘制异常"))},t.prototype.resetWidthAndHeight=function(){var t=this.config,e=this.data,i=0,n=0;t.divElement&&(i=t.divElement.offsetWidth,n=t.divElement.offsetHeight),this.boxWidth=this.getLength(e.width||t.width)||i,this.boxHeight=this.getLength(e.height||t.height)||n,t.divElement&&(t.divElement.style.overflow="hidden",t.divElement.style.width=this.boxWidth+"px",t.divElement.style.height=this.boxHeight+"px")},t.prototype.zoomCanvas=function(){var t=this.config,e=this.ctx,i=t.canvasElement,n=t.dpr,r=[this.boxWidth*n,this.boxHeight*n],o=r[0],s=r[1];i&&(i.width=o,i.height=s,i.style.width=o+"px",i.style.height=s+"px",i.style["transform-origin"]="left top",i.style.transform="scale("+1/n+")",e.scale(n,n))},t.prototype.initWindowFunction=function(){var t=this.config;if(window)return this.rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},t.setTimeout=window.setTimeout,t.setInterval=window.setInterval,t.clearTimeout=window.clearTimeout,void(t.clearInterval=window.clearInterval);if(t.rAF)this.rAF=t.rAF;else if(t.setTimeout){var e=t.setTimeout;this.rAF=function(t){return e(t,16.7)}}else this.rAF=function(t){return setTimeout(t,16.7)}},t.prototype.isWeb=function(){return["WEB","UNI-H5","TARO-H5"].includes(this.config.flag)},t.prototype.loadImg=function(t,e,i){var n=this;return void 0===i&&(i="$resolve"),new Promise(function(r,o){if(t||o("=> '"+e.src+"' 不能为空或不合法"),"WEB"!==n.config.flag)return e[i]=r,void(e.$reject=o);var s=new Image;s.onload=function(){return r(s)},s.onerror=function(){return o("=> '"+e.src+"' 图片加载失败")},s.src=t})},t.prototype.drawImage=function(t,e){for(var i,n,r,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a=this.config,c=a.flag,u=a.dpr;if(["WEB","MP-WX"].includes(c))r=e;else{if(!["UNI-H5","UNI-MP","TARO-H5","TARO-MP"].includes(c))return console.error("意料之外的 flag, 该平台尚未兼容!");r=e.path}var h=null===(n=(i=r.canvas||r).getContext)||void 0===n?void 0:n.call(i,"2d");if(h&&!this.isWeb()){o=o.map(function(t){return t*u});var l=h.getImageData.apply(h,o.slice(0,4));t.putImageData.apply(t,m([l],o.slice(4,6)))}else{8===o.length&&(o=o.map(function(t,e){return e<4?t*u:t}));try{t.drawImage.apply(t,m([r],o))}catch(t){}}},t.prototype.computedWidthAndHeight=function(t,e,i,n){if(!e.width&&!e.height)return[t.width,t.height];if(e.width&&!e.height){var r=this.getLength(e.width,i);return[r,t.height*(r/t.width)]}if(!e.width&&e.height){var o=this.getLength(e.height,n);return[t.width*(o/t.height),o]}return[this.getLength(e.width,i),this.getLength(e.height,n)]},t.prototype.changeUnits=function(t,e){var i=this;void 0===e&&(e=1);var n=this.config;return Number(t.replace(/^([-]*[0-9.]*)([a-z%]*)$/,function(t,r,o){var s={"%":function(t){return e/100*t},px:function(t){return 1*t},rem:function(t){return t*i.htmlFontSize},vw:function(t){return t/100*window.innerWidth}}[o];if(s)return s(r);var a=n.handleCssUnit||n.unitFunc;return a?a(r,o):r}))},t.prototype.getLength=function(t,e){return w(t,"number")?t:w(t,"string")?this.changeUnits(t,e):0},t.prototype.getOffsetX=function(t,e){return void 0===e&&(e=0),(e-t)/2},t.prototype.getOffscreenCanvas=function(t,e){if(!b(this,"_offscreenCanvas")&&(window&&window.document&&"WEB"===this.config.flag?this._offscreenCanvas=document.createElement("canvas"):this._offscreenCanvas=this.config.offscreenCanvas,!this._offscreenCanvas))return console.error("离屏 Canvas 无法渲染!");var i=this.config.dpr,n=this._offscreenCanvas;n.width=(t||300)*i,n.height=(e||150)*i;var r=n.getContext("2d");return r.clearRect(0,0,t,e),r.scale(i,i),r.dpr=i,{_offscreenCanvas:n,_ctx:r}},t.prototype.$set=function(t,e,i){t&&"object"==typeof t&&_(t,e,i)},t.prototype.$computed=function(t,e,i){var n=this;Object.defineProperty(t,e,{get:function(){return i.call(n)}})},t.prototype.$watch=function(t,e,i){void 0===i&&(i={}),"object"==typeof e&&(e=(i=e).handler);var n=new W(this,t,e,i);return i.immediate&&e.call(this,n.value),function(){}},t.version="1.7.25",t}(),D=function(t){return Math.PI/180*t},Z=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=Math.min(o,s),u=Math.PI;a>c/2&&(a=c/2),t.beginPath(),t.moveTo(n+a,r),t.lineTo(n+a,r),t.lineTo(n+o-a,r),t.arc(n+o-a,r+a,a,-u/2,0),t.lineTo(n+o,r+s-a),t.arc(n+o-a,r+s-a,a,0,u/2),t.lineTo(n+a,r+s),t.arc(n+a,r+s-a,a,u/2,u),t.lineTo(n,r+a),t.arc(n+a,r+a,a,u,-u/2),t.closePath()},F=function(t,e,i,n){return t>=n&&(t=n),i*(t/=n)*t+e},j=function(t,e,i,n){return t>=n&&(t=n),-i*(t/=n)*(t-2)+e},M=function(t){function e(e,i){var n,r=t.call(this,e,{width:i.width,height:i.height})||this;return r.blocks=[],r.prizes=[],r.buttons=[],r.defaultConfig={},r.defaultStyle={},r._defaultConfig={},r._defaultStyle={},r.Radius=0,r.prizeRadius=0,r.prizeDeg=0,r.prizeAng=0,r.rotateDeg=0,r.maxBtnRadius=0,r.startTime=0,r.endTime=0,r.stopDeg=0,r.endDeg=0,r.FPS=16.6,r.step=0,r.ImageCache=new Map,r.initData(i),r.initWatch(),r.initComputed(),null===(n=e.beforeCreate)||void 0===n||n.call(r),r.init(),r}return d(e,t),e.prototype.resize=function(){var e,i;t.prototype.resize.call(this),this.Radius=Math.min(this.boxWidth,this.boxHeight)/2,this.ctx.translate(this.Radius,this.Radius),this.draw(),null===(i=(e=this.config).afterResize)||void 0===i||i.call(e)},e.prototype.initLucky=function(){this.Radius=0,this.prizeRadius=0,this.prizeDeg=0,this.prizeAng=0,this.rotateDeg=0,this.maxBtnRadius=0,this.startTime=0,this.endTime=0,this.stopDeg=0,this.endDeg=0,this.FPS=16.6,this.prizeFlag=-1,this.step=0,t.prototype.initLucky.call(this)},e.prototype.initData=function(t){this.$set(this,"width",t.width),this.$set(this,"height",t.height),this.$set(this,"blocks",t.blocks||[]),this.$set(this,"prizes",t.prizes||[]),this.$set(this,"buttons",t.buttons||[]),this.$set(this,"defaultConfig",t.defaultConfig||{}),this.$set(this,"defaultStyle",t.defaultStyle||{}),this.$set(this,"startCallback",t.start),this.$set(this,"endCallback",t.end)},e.prototype.initComputed=function(){var t=this;this.$computed(this,"_defaultConfig",function(){return g({gutter:"0px",offsetDegree:0,speed:20,speedFunction:"quad",accelerationTime:2500,decelerationTime:2500,stopRange:0},t.defaultConfig)}),this.$computed(this,"_defaultStyle",function(){return g({fontSize:"18px",fontColor:"#000",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",wordWrap:!0,lengthLimit:"90%"},t.defaultStyle)})},e.prototype.initWatch=function(){var t=this;this.$watch("width",function(e){t.data.width=e,t.resize()}),this.$watch("height",function(e){t.data.height=e,t.resize()}),this.$watch("blocks",function(e){t.initImageCache()},{deep:!0}),this.$watch("prizes",function(e){t.initImageCache()},{deep:!0}),this.$watch("buttons",function(e){t.initImageCache()},{deep:!0}),this.$watch("defaultConfig",function(){return t.draw()},{deep:!0}),this.$watch("defaultStyle",function(){return t.draw()},{deep:!0}),this.$watch("startCallback",function(){return t.init()}),this.$watch("endCallback",function(){return t.init()})},e.prototype.init=function(){var t,e;return v(this,void 0,void 0,function(){var i;return y(this,function(n){switch(n.label){case 0:return this.initLucky(),null===(t=(i=this.config).beforeInit)||void 0===t||t.call(this),this.draw(),this.draw(),[4,this.initImageCache()];case 1:return n.sent(),null===(e=i.afterInit)||void 0===e||e.call(this),[2]}})})},e.prototype.initImageCache=function(){var t=this;return new Promise(function(e){var i={blocks:t.blocks.map(function(t){return t.imgs}),prizes:t.prizes.map(function(t){return t.imgs}),buttons:t.buttons.map(function(t){return t.imgs})};Object.keys(i).forEach(function(n){var r=i[n],o=[];r&&r.forEach(function(e,i){e&&e.forEach(function(e,r){o.push(t.loadAndCacheImg(n,i,r))})}),Promise.all(o).then(function(){t.draw(),e()})})})},e.prototype.handleClick=function(t){var e,i=this.ctx;i.beginPath(),i.arc(0,0,this.maxBtnRadius,0,2*Math.PI,!1),i.isPointInPath(t.offsetX,t.offsetY)&&0===this.step&&(null===(e=this.startCallback)||void 0===e||e.call(this,t))},e.prototype.loadAndCacheImg=function(t,e,i){return v(this,void 0,void 0,function(){var n=this;return y(this,function(r){return[2,new Promise(function(r,o){var s=n[t][e];if(s&&s.imgs){var a=s.imgs[i];a&&n.loadImg(a.src,a).then(function(t){return v(n,void 0,void 0,function(){return y(this,function(e){switch(e.label){case 0:return"function"!=typeof a.formatter?[3,2]:[4,Promise.resolve(a.formatter.call(this,t))];case 1:t=e.sent(),e.label=2;case 2:return this.ImageCache.set(a.src,t),r(),[2]}})})}).catch(function(n){console.error(t+"["+e+"].imgs["+i+"] "+n),o()})}})]})})},e.prototype.drawBlock=function(t,e,i){var n=this,r=this.ctx;S(e.background)&&(r.beginPath(),r.fillStyle=e.background,r.arc(0,0,t,0,2*Math.PI,!1),r.fill()),e.imgs&&e.imgs.forEach(function(e,i){var o=n.ImageCache.get(e.src);if(o){var s=n.computedWidthAndHeight(o,e,2*t,2*t),a=s[0],c=s[1],u=[n.getOffsetX(a)+n.getLength(e.left,2*t),n.getLength(e.top,2*t)-t],h=u[0],l=u[1];r.save(),e.rotate&&r.rotate(D(n.rotateDeg)),n.drawImage(r,o,h,l,a,c),r.restore()}})},e.prototype.draw=function(){var t,e,i=this,n=this.config,r=this.ctx,o=this._defaultConfig,s=this._defaultStyle;null===(t=n.beforeDraw)||void 0===t||t.call(this,r),r.clearRect(-this.Radius,-this.Radius,2*this.Radius,2*this.Radius),this.prizeRadius=this.blocks.reduce(function(t,e,n){return i.drawBlock(t,e,n),t-i.getLength(e.padding&&e.padding.split(" ")[0])},this.Radius),this.prizeDeg=360/this.prizes.length,this.prizeAng=D(this.prizeDeg);var a=this.prizeRadius*Math.sin(this.prizeAng/2)*2,c=D(this.rotateDeg-90+this.prizeDeg/2+o.offsetDegree),u=function(t,e){return i.getOffsetX(r.measureText(e).width)+i.getLength(t.left,a)},h=function(t,e,n){var r=t.lineHeight||s.lineHeight||t.fontSize||s.fontSize;return i.getLength(t.top,e)+(n+1)*i.getLength(r)};r.save(),this.prizes.forEach(function(t,e){var n=c+e*i.prizeAng,l=i.prizeRadius-i.maxBtnRadius,f=t.background||s.background;S(f)&&(r.fillStyle=f,function(t,e,i,n,r,o){t.beginPath();var s,a,c=D(90/Math.PI/i*o);t.arc(0,0,i,n+c,r-c,!1),t.lineTo.apply(t,[+(Math.cos(s=(n+r)/2)*(a=o/2/Math.abs(Math.sin((n-r)/2)))).toFixed(8),+(Math.sin(s)*a).toFixed(8)]),t.closePath()}(r,i.maxBtnRadius,i.prizeRadius,n-i.prizeAng/2,n+i.prizeAng/2,i.getLength(o.gutter)),r.fill());var p=Math.cos(n)*i.prizeRadius,d=Math.sin(n)*i.prizeRadius;r.translate(p,d),r.rotate(n+D(90)),t.imgs&&t.imgs.forEach(function(t,e){var n=i.ImageCache.get(t.src);if(n){var o=i.computedWidthAndHeight(n,t,i.prizeAng*i.prizeRadius,l),s=o[0],c=o[1],u=[i.getOffsetX(s)+i.getLength(t.left,a),i.getLength(t.top,l)],h=u[0],f=u[1];i.drawImage(r,n,h,f,s,c)}}),t.fonts&&t.fonts.forEach(function(t){var e=t.fontColor||s.fontColor,n=t.fontWeight||s.fontWeight,a=i.getLength(t.fontSize||s.fontSize),c=t.fontStyle||s.fontStyle,f=b(t,"wordWrap")?t.wordWrap:s.wordWrap,p=t.lengthLimit||s.lengthLimit,d=t.lineClamp||s.lineClamp;r.fillStyle=e,r.font=n+" "+(a>>0)+"px "+c;var g=String(t.text);(f?x(r,k(g),function(e){var n=(i.prizeRadius-h(t,l,e.length))*Math.tan(i.prizeAng/2)*2-i.getLength(o.gutter);return i.getLength(p,n)},d):g.split("\n")).filter(function(t){return!!t}).forEach(function(e,i){r.fillText(e,u(t,e),h(t,l,i))})}),r.rotate(D(360)-n-D(90)),r.translate(-p,-d)}),r.restore(),this.buttons.forEach(function(t,e){var n=i.getLength(t.radius,i.prizeRadius);i.maxBtnRadius=Math.max(i.maxBtnRadius,n),S(t.background)&&(r.beginPath(),r.fillStyle=t.background,r.arc(0,0,n,0,2*Math.PI,!1),r.fill()),t.pointer&&S(t.background)&&(r.beginPath(),r.fillStyle=t.background,r.moveTo(-n,0),r.lineTo(n,0),r.lineTo(0,-(2*n)),r.closePath(),r.fill()),t.imgs&&t.imgs.forEach(function(t,e){var o=i.ImageCache.get(t.src);if(o){var s=i.computedWidthAndHeight(o,t,2*n,2*n),a=s[0],c=s[1],u=[i.getOffsetX(a)+i.getLength(t.left,n),i.getLength(t.top,n)],h=u[0],l=u[1];i.drawImage(r,o,h,l,a,c)}}),t.fonts&&t.fonts.forEach(function(t){var e=t.fontColor||s.fontColor,o=t.fontWeight||s.fontWeight,a=i.getLength(t.fontSize||s.fontSize),c=t.fontStyle||s.fontStyle;r.fillStyle=e,r.font=o+" "+(a>>0)+"px "+c,String(t.text).split("\n").forEach(function(e,i){r.fillText(e,u(t,e),h(t,n,i))})})}),null===(e=n.afterDraw)||void 0===e||e.call(this,r)},e.prototype.carveOnGunwaleOfAMovingBoat=function(){var t=this._defaultConfig,e=this.prizeFlag,i=this.prizeDeg,n=this.rotateDeg;this.endTime=Date.now();for(var r=this.stopDeg=n,o=t.speed,s=(Math.random()*i-i/2)*this.getLength(t.stopRange),a=0,c=0,u=0;++a;){var h=360*a-e*i-n-t.offsetDegree+s-i/2,l=j(this.FPS,r,h,t.decelerationTime)-r;if(l>o){this.endDeg=o-c>l-o?h:u;break}u=h,c=l}},e.prototype.play=function(){var t,e;0===this.step&&(this.startTime=Date.now(),this.prizeFlag=void 0,this.step=1,null===(e=(t=this.config).afterStart)||void 0===e||e.call(t),this.run())},e.prototype.stop=function(t){0!==this.step&&3!==this.step&&(t||0===t||(t=z(this.prizes.map(function(t){return t.range}))),t<0?(this.step=0,this.prizeFlag=-1):(this.step=2,this.prizeFlag=t%this.prizes.length))},e.prototype.run=function(t){void 0===t&&(t=0);var e,i=this.rAF,n=this.step,r=this.prizeFlag,o=this._defaultConfig,s=o.accelerationTime,a=o.decelerationTime,c=o.speed;if(0!==n){if(-1!==r){3!==n||this.endDeg||this.carveOnGunwaleOfAMovingBoat();var u=Date.now()-this.startTime,h=Date.now()-this.endTime,l=this.rotateDeg;if(1===n||u<s){this.FPS=u/t;var f=F(u,0,c,s);f===c&&(this.step=2),l+=f%360}else 2===n?(l+=c%360,void 0!==r&&r>=0&&(this.step=3,this.stopDeg=0,this.endDeg=0)):3===n?(l=j(h,this.stopDeg,this.endDeg,a),h>=a&&(this.step=0)):this.stop(-1);this.rotateDeg=l,this.draw(),i(this.run.bind(this,t+1))}}else null===(e=this.endCallback)||void 0===e||e.call(this,this.prizes.find(function(t,e){return e===r})||{})},e.prototype.conversionAxis=function(t,e){var i=this.config;return[t/i.dpr-this.Radius,e/i.dpr-this.Radius]},e}($),H=function(t){function e(e,i){var n,r=t.call(this,e,{width:i.width,height:i.height})||this;return r.rows=3,r.cols=3,r.blocks=[],r.prizes=[],r.buttons=[],r.defaultConfig={},r.defaultStyle={},r.activeStyle={},r._defaultConfig={},r._defaultStyle={},r._activeStyle={},r.cellWidth=0,r.cellHeight=0,r.startTime=0,r.endTime=0,r.currIndex=0,r.stopIndex=0,r.endIndex=0,r.demo=!1,r.timer=0,r.FPS=16.6,r.step=0,r.prizeFlag=-1,r.cells=[],r.ImageCache=new Map,r.initData(i),r.initWatch(),r.initComputed(),null===(n=e.beforeCreate)||void 0===n||n.call(r),r.init(),r}return d(e,t),e.prototype.resize=function(){var e,i;t.prototype.resize.call(this),this.draw(),null===(i=(e=this.config).afterResize)||void 0===i||i.call(e)},e.prototype.initLucky=function(){this.cellWidth=0,this.cellHeight=0,this.startTime=0,this.endTime=0,this.currIndex=0,this.stopIndex=0,this.endIndex=0,this.demo=!1,this.timer=0,this.FPS=16.6,this.prizeFlag=-1,this.step=0,t.prototype.initLucky.call(this)},e.prototype.initData=function(t){this.$set(this,"width",t.width),this.$set(this,"height",t.height),this.$set(this,"rows",Number(t.rows)||3),this.$set(this,"cols",Number(t.cols)||3),this.$set(this,"blocks",t.blocks||[]),this.$set(this,"prizes",t.prizes||[]),this.$set(this,"buttons",t.buttons||[]),this.$set(this,"button",t.button),this.$set(this,"defaultConfig",t.defaultConfig||{}),this.$set(this,"defaultStyle",t.defaultStyle||{}),this.$set(this,"activeStyle",t.activeStyle||{}),this.$set(this,"startCallback",t.start),this.$set(this,"endCallback",t.end)},e.prototype.initComputed=function(){var t=this;this.$computed(this,"_defaultConfig",function(){var e=g({gutter:5,speed:20,accelerationTime:2500,decelerationTime:2500},t.defaultConfig);return e.gutter=t.getLength(e.gutter),e.speed=e.speed/40,e}),this.$computed(this,"_defaultStyle",function(){return g({borderRadius:20,fontColor:"#000",fontSize:"18px",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",shadow:"",wordWrap:!0,lengthLimit:"90%"},t.defaultStyle)}),this.$computed(this,"_activeStyle",function(){return g({background:"#ffce98",shadow:""},t.activeStyle)})},e.prototype.initWatch=function(){var t=this;this.$watch("width",function(e){t.data.width=e,t.resize()}),this.$watch("height",function(e){t.data.height=e,t.resize()}),this.$watch("blocks",function(e){t.initImageCache()},{deep:!0}),this.$watch("prizes",function(e){t.initImageCache()},{deep:!0}),this.$watch("buttons",function(e){t.initImageCache()},{deep:!0}),this.$watch("rows",function(){return t.init()}),this.$watch("cols",function(){return t.init()}),this.$watch("defaultConfig",function(){return t.draw()},{deep:!0}),this.$watch("defaultStyle",function(){return t.draw()},{deep:!0}),this.$watch("activeStyle",function(){return t.draw()},{deep:!0}),this.$watch("startCallback",function(){return t.init()}),this.$watch("endCallback",function(){return t.init()})},e.prototype.init=function(){var t,e;return v(this,void 0,void 0,function(){var i;return y(this,function(n){switch(n.label){case 0:return this.initLucky(),null===(t=(i=this.config).beforeInit)||void 0===t||t.call(this),this.draw(),[4,this.initImageCache()];case 1:return n.sent(),null===(e=i.afterInit)||void 0===e||e.call(this),[2]}})})},e.prototype.initImageCache=function(){var t=this;return new Promise(function(e){var i=t.buttons.map(function(t){return t.imgs});t.button&&i.push(t.button.imgs);var n={blocks:t.blocks.map(function(t){return t.imgs}),prizes:t.prizes.map(function(t){return t.imgs}),buttons:i};Object.keys(n).forEach(function(i){var r=n[i],o=[];r&&r.forEach(function(e,n){e&&e.forEach(function(e,r){o.push(t.loadAndCacheImg(i,n,r))})}),Promise.all(o).then(function(){t.draw(),e()})})})},e.prototype.handleClick=function(t){var e=this,i=this.ctx;m(m([],this.buttons),[this.button]).forEach(function(n){var r;if(n){var o=e.getGeometricProperty([n.x,n.y,n.col||1,n.row||1]),s=o[0],a=o[1],c=o[2],u=o[3];i.beginPath(),i.rect(s,a,c,u),i.isPointInPath(t.offsetX,t.offsetY)&&0===e.step&&("function"==typeof n.callback&&n.callback.call(e,n),null===(r=e.startCallback)||void 0===r||r.call(e,t,n))}})},e.prototype.loadAndCacheImg=function(t,e,i){return v(this,void 0,void 0,function(){var n=this;return y(this,function(r){return[2,new Promise(function(r,o){var s=n[t][e];if("buttons"===t&&!n.buttons.length&&n.button&&(s=n.button),s&&s.imgs){var a=s.imgs[i];a&&Promise.all([n.loadImg(a.src,a),a.activeSrc&&n.loadImg(a.activeSrc,a,"$activeResolve")]).then(function(t){var e=t[0],i=t[1];return v(n,void 0,void 0,function(){var t;return y(this,function(n){switch(n.label){case 0:return"function"!=typeof(t=a.formatter)?[3,3]:[4,Promise.resolve(t.call(this,e))];case 1:return e=n.sent(),i?[4,Promise.resolve(t.call(this,i))]:[3,3];case 2:i=n.sent(),n.label=3;case 3:return this.ImageCache.set(a.src,e),i&&this.ImageCache.set(a.activeSrc,i),r(),[2]}})})}).catch(function(n){console.error(t+"["+e+"].imgs["+i+"] "+n),o()})}})]})})},e.prototype.draw=function(){var t,e,i=this,n=this.config,r=this.ctx,o=this._defaultConfig,s=this._defaultStyle,a=this._activeStyle;null===(t=n.beforeDraw)||void 0===t||t.call(this,r),r.clearRect(0,0,this.boxWidth,this.boxHeight),this.cells=m(m([],this.prizes),this.buttons),this.button&&this.cells.push(this.button),this.cells.forEach(function(t){t.col=t.col||1,t.row=t.row||1}),this.prizeArea=this.blocks.reduce(function(t,e,n){var o=t.x,s=t.y,a=t.w,c=t.h,u=C(e,i.getLength.bind(i)),h=u[0],l=u[1],f=u[2],p=u[3],d=e.borderRadius?i.getLength(e.borderRadius):0,g=e.background;return S(g)&&(r.fillStyle=i.handleBackground(o,s,a,c,g),Z(r,o,s,a,c,d),r.fill()),e.imgs&&e.imgs.forEach(function(t,e){var n=i.ImageCache.get(t.src);if(n){var u=i.computedWidthAndHeight(n,t,a,c),h=u[0],l=u[1],f=[i.getOffsetX(h,a)+i.getLength(t.left,a),i.getLength(t.top,c)],p=f[0],d=f[1];i.drawImage(r,n,o+p,s+d,h,l)}}),{x:o+f,y:s+h,w:a-f-p,h:c-h-l}},{x:0,y:0,w:this.boxWidth,h:this.boxHeight}),this.cellWidth=(this.prizeArea.w-o.gutter*(this.cols-1))/this.cols,this.cellHeight=(this.prizeArea.h-o.gutter*(this.rows-1))/this.rows,this.cells.forEach(function(t,e){var o=i.getGeometricProperty([t.x,t.y,t.col,t.row]),c=o[0],u=o[1],h=o[2],l=o[3],f=!1;(void 0===i.prizeFlag||i.prizeFlag>-1)&&(f=e===i.currIndex%i.prizes.length>>0);var p=f?a.background:t.background||s.background;if(S(p)){var d=(f?a.shadow:t.shadow||s.shadow).replace(/px/g,"").split(",")[0].split(" ").map(function(t,e){return e<3?Number(t):t});4===d.length&&(r.shadowColor=d[3],r.shadowOffsetX=d[0]*n.dpr,r.shadowOffsetY=d[1]*n.dpr,r.shadowBlur=d[2],d[0]>0?h-=d[0]:(h+=d[0],c-=d[0]),d[1]>0?l-=d[1]:(l+=d[1],u-=d[1])),r.fillStyle=i.handleBackground(c,u,h,l,p);var g=i.getLength(t.borderRadius?t.borderRadius:s.borderRadius);Z(r,c,u,h,l,g),r.fill(),r.shadowColor="rgba(0, 0, 0, 0)",r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowBlur=0}e>=i.prizes.length&&(e-=i.prizes.length),t.imgs&&t.imgs.forEach(function(t,e){var n=i.ImageCache.get(t.src),o=i.ImageCache.get(t.activeSrc);if(n){var s=f&&o||n;if(s){var a=i.computedWidthAndHeight(s,t,h,l),p=a[0],d=a[1],g=[c+i.getOffsetX(p,h)+i.getLength(t.left,h),u+i.getLength(t.top,l)],v=g[0],y=g[1];i.drawImage(r,s,v,y,p,d)}}}),t.fonts&&t.fonts.forEach(function(t){var e=f&&a.fontStyle?a.fontStyle:t.fontStyle||s.fontStyle,n=f&&a.fontWeight?a.fontWeight:t.fontWeight||s.fontWeight,o=f&&a.fontSize?i.getLength(a.fontSize):i.getLength(t.fontSize||s.fontSize),p=f&&a.lineHeight?a.lineHeight:t.lineHeight||s.lineHeight||t.fontSize||s.fontSize,d=b(t,"wordWrap")?t.wordWrap:s.wordWrap,g=t.lengthLimit||s.lengthLimit,v=t.lineClamp||s.lineClamp;r.font=n+" "+(o>>0)+"px "+e,r.fillStyle=f&&a.fontColor?a.fontColor:t.fontColor||s.fontColor;var y=[],m=String(t.text);if(d){var w=i.getLength(g,h);y=x(r,k(m),function(){return w},v)}else y=m.split("\n");y.forEach(function(e,n){r.fillText(e,c+i.getOffsetX(r.measureText(e).width,h)+i.getLength(t.left,h),u+i.getLength(t.top,l)+(n+1)*i.getLength(p))})})}),null===(e=n.afterDraw)||void 0===e||e.call(this,r)},e.prototype.handleBackground=function(t,e,i,n,r){var o=this.ctx;return r.includes("linear-gradient")&&(r=function(t,e,i,n,r,o){var s=/linear-gradient\((.+)\)/.exec(o)[1].split(",").map(function(t){return t.trim()}),a=s.shift(),c=[0,0,0,0];if(a.includes("deg")){var u=function(t){return Math.tan(t/180*Math.PI)};(a=a.slice(0,-3)%360)>=0&&a<45?c=[e,i+r,e+n,i+r-n*u(a-0)]:a>=45&&a<90?c=[e,i+r,e+n-r*u(a-45),i]:a>=90&&a<135?c=[e+n,i+r,e+n-r*u(a-90),i]:a>=135&&a<180?c=[e+n,i+r,e,i+n*u(a-135)]:a>=180&&a<225?c=[e+n,i,e,i+n*u(a-180)]:a>=225&&a<270?c=[e+n,i,e+r*u(a-225),i+r]:a>=270&&a<315?c=[e,i,e+r*u(a-270),i+r]:a>=315&&a<360&&(c=[e,i,e+n,i+r-n*u(a-315)])}else a.includes("top")?c=[e,i+r,e,i]:a.includes("bottom")?c=[e,i,e,i+r]:a.includes("left")?c=[e+n,i,e,i]:a.includes("right")&&(c=[e,i,e+n,i]);var h=t.createLinearGradient.apply(t,c.map(function(t){return t>>0}));return s.reduce(function(t,e,i){var n=e.split(" ");return 1===n.length?t.addColorStop(i,n[0]):2===n.length&&t.addColorStop.apply(t,n),t},h)}(o,t,e,i,n,r)),r},e.prototype.carveOnGunwaleOfAMovingBoat=function(){var t=this._defaultConfig,e=this.prizeFlag,i=this.currIndex;this.endTime=Date.now();for(var n=this.stopIndex=i,r=t.speed,o=0,s=0,a=0;++o;){var c=this.prizes.length*o+e-n,u=j(this.FPS,n,c,t.decelerationTime)-n;if(u>r){this.endIndex=r-s>u-r?c:a;break}a=c,s=u}},e.prototype.play=function(){var t,e;0===this.step&&(this.startTime=Date.now(),this.prizeFlag=void 0,this.step=1,null===(e=(t=this.config).afterStart)||void 0===e||e.call(t),this.run())},e.prototype.stop=function(t){0!==this.step&&3!==this.step&&(t||0===t||(t=z(this.prizes.map(function(t){return t.range}))),t<0?(this.step=0,this.prizeFlag=-1):(this.step=2,this.prizeFlag=t%this.prizes.length))},e.prototype.run=function(t){void 0===t&&(t=0);var e,i=this.rAF,n=this.step,r=this.prizes,o=this.prizeFlag,s=this._defaultConfig,a=s.accelerationTime,c=s.decelerationTime,u=s.speed;if(0!==n){if(-1!==o){3!==n||this.endIndex||this.carveOnGunwaleOfAMovingBoat();var h=Date.now()-this.startTime,l=Date.now()-this.endTime,f=this.currIndex;if(1===n||h<a){this.FPS=h/t;var p=F(h,.1,u-.1,a);p===u&&(this.step=2),f+=p%r.length}else 2===n?(f+=u%r.length,void 0!==o&&o>=0&&(this.step=3,this.stopIndex=0,this.endIndex=0)):3===n?(f=j(l,this.stopIndex,this.endIndex,c),l>=c&&(this.step=0)):this.stop(-1);this.currIndex=f,this.draw(),i(this.run.bind(this,t+1))}}else null===(e=this.endCallback)||void 0===e||e.call(this,this.prizes.find(function(t,e){return e===o})||{})},e.prototype.getGeometricProperty=function(t){var e=t[0],i=t[1],n=t[2],r=void 0===n?1:n,o=t[3],s=void 0===o?1:o,a=this.cellWidth,c=this.cellHeight,u=this._defaultConfig.gutter,h=[this.prizeArea.x+(a+u)*e,this.prizeArea.y+(c+u)*i];return r&&s&&h.push(a*r+u*(r-1),c*s+u*(s-1)),h},e.prototype.conversionAxis=function(t,e){var i=this.config;return[t/i.dpr,e/i.dpr]},e}($),B=function(t){function e(e,i){var n,r=t.call(this,e,{width:i.width,height:i.height})||this;return r.blocks=[],r.prizes=[],r.slots=[],r.defaultConfig={},r._defaultConfig={},r.defaultStyle={},r._defaultStyle={},r.endCallback=function(){},r.cellWidth=0,r.cellHeight=0,r.cellAndSpacing=0,r.widthAndSpacing=0,r.heightAndSpacing=0,r.FPS=16.6,r.scroll=[],r.stopScroll=[],r.endScroll=[],r.startTime=0,r.endTime=0,r.step=0,r.prizeFlag=void 0,r.ImageCache=new Map,r.initData(i),r.initWatch(),r.initComputed(),null===(n=e.beforeCreate)||void 0===n||n.call(r),r.init(),r}return d(e,t),e.prototype.resize=function(){var e,i;t.prototype.resize.call(this),this.draw(),null===(i=(e=this.config).afterResize)||void 0===i||i.call(e)},e.prototype.initLucky=function(){this.cellWidth=0,this.cellHeight=0,this.cellAndSpacing=0,this.widthAndSpacing=0,this.heightAndSpacing=0,this.FPS=16.6,this.scroll=[],this.stopScroll=[],this.endScroll=[],this.startTime=0,this.endTime=0,this.prizeFlag=void 0,this.step=0,t.prototype.initLucky.call(this)},e.prototype.initData=function(t){this.$set(this,"width",t.width),this.$set(this,"height",t.height),this.$set(this,"blocks",t.blocks||[]),this.$set(this,"prizes",t.prizes||[]),this.$set(this,"slots",t.slots||[]),this.$set(this,"defaultConfig",t.defaultConfig||{}),this.$set(this,"defaultStyle",t.defaultStyle||{}),this.$set(this,"endCallback",t.end)},e.prototype.initComputed=function(){var t=this;this.$computed(this,"_defaultConfig",function(){var e=g({mode:"vertical",rowSpacing:0,colSpacing:5,speed:20,direction:1,accelerationTime:2500,decelerationTime:2500},t.defaultConfig);return e.rowSpacing=t.getLength(e.rowSpacing),e.colSpacing=t.getLength(e.colSpacing),e}),this.$computed(this,"_defaultStyle",function(){return g({borderRadius:0,fontColor:"#000",fontSize:"18px",fontStyle:"sans-serif",fontWeight:"400",background:"rgba(0,0,0,0)",wordWrap:!0,lengthLimit:"90%"},t.defaultStyle)})},e.prototype.initWatch=function(){var t=this;this.$watch("width",function(e){t.data.width=e,t.resize()}),this.$watch("height",function(e){t.data.height=e,t.resize()}),this.$watch("blocks",function(e){t.initImageCache()},{deep:!0}),this.$watch("prizes",function(e){t.initImageCache()},{deep:!0}),this.$watch("slots",function(e){t.drawOffscreenCanvas(),t.draw()},{deep:!0}),this.$watch("defaultConfig",function(){return t.draw()},{deep:!0}),this.$watch("defaultStyle",function(){return t.draw()},{deep:!0}),this.$watch("endCallback",function(){return t.init()})},e.prototype.init=function(){var t,e;return v(this,void 0,void 0,function(){var i;return y(this,function(n){switch(n.label){case 0:return this.initLucky(),null===(t=(i=this.config).beforeInit)||void 0===t||t.call(this),this.drawOffscreenCanvas(),this.draw(),[4,this.initImageCache()];case 1:return n.sent(),null===(e=i.afterInit)||void 0===e||e.call(this),[2]}})})},e.prototype.initImageCache=function(){var t=this;return new Promise(function(e){var i={blocks:t.blocks.map(function(t){return t.imgs}),prizes:t.prizes.map(function(t){return t.imgs})};Object.keys(i).forEach(function(n){var r=i[n],o=[];r&&r.forEach(function(e,i){e&&e.forEach(function(e,r){o.push(t.loadAndCacheImg(n,i,r))})}),Promise.all(o).then(function(){t.drawOffscreenCanvas(),t.draw(),e()})})})},e.prototype.loadAndCacheImg=function(t,e,i){return v(this,void 0,void 0,function(){var n=this;return y(this,function(r){return[2,new Promise(function(r,o){var s=n[t][e];if(s&&s.imgs){var a=s.imgs[i];a&&n.loadImg(a.src,a).then(function(t){return v(n,void 0,void 0,function(){return y(this,function(e){switch(e.label){case 0:return"function"!=typeof a.formatter?[3,2]:[4,Promise.resolve(a.formatter.call(this,t))];case 1:t=e.sent(),e.label=2;case 2:return this.ImageCache.set(a.src,t),r(),[2]}})})}).catch(function(n){console.error(t+"["+e+"].imgs["+i+"] "+n),o()})}})]})})},e.prototype.drawOffscreenCanvas=function(){var t=this,e=this._defaultConfig,i=this._defaultStyle,n=this.drawBlocks(),r=n.w,o=n.h,s=this.prizes.length,a=this.displacementWidthOrHeight(),c=a.cellWidth,u=a.cellHeight,h=a.widthAndSpacing,l=a.heightAndSpacing,f=Array(s).fill(void 0).map(function(t,e){return e}),p=0,d=0;this.slots.forEach(function(e,i){void 0===t.scroll[i]&&(t.scroll[i]=0),e.order=e.order||f;var n=e.order.length;p=Math.max(p,r+h*n),d=Math.max(d,o+l*n)});var g=this.getOffscreenCanvas(p,d),v=g._offscreenCanvas,y=g._ctx;this._offscreenCanvas=v,this.slots.forEach(function(n,r){var o=c*r,s=u*r,a=0,f=function(t,e){for(var i={},n=[],r=0;r<t.length;r++)i[r]=t[r];for(r=0;r<e.length;r++){var o=i[e[r]];o&&(n[r]=o)}return n}(t.prizes,n.order);if(f.length){f.forEach(function(r,f){if(r){n.order[f];var p=h*f+e.colSpacing/2,d=l*f+e.rowSpacing/2,g=t.displacement([o,d,l],[p,s,h]),v=g[0],m=g[1],w=g[2];a+=w;var C=r.background||i.background;S(C)&&(Z(y,v,m,c,c,t.getLength(b(r,"borderRadius")?r.borderRadius:i.borderRadius)),y.fillStyle=C,y.fill()),r.imgs&&r.imgs.forEach(function(e,i){var n=t.ImageCache.get(e.src);if(n){var r=t.computedWidthAndHeight(n,e,c,u),o=r[0],s=r[1],a=[v+t.getOffsetX(o,c)+t.getLength(e.left,c),m+t.getLength(e.top,u)],h=a[0],l=a[1];t.drawImage(y,n,h,l,o,s)}}),r.fonts&&r.fonts.forEach(function(e){var n=e.fontStyle||i.fontStyle,r=e.fontWeight||i.fontWeight,o=t.getLength(e.fontSize||i.fontSize),s=e.lineHeight||i.lineHeight||e.fontSize||i.fontSize,a=b(e,"wordWrap")?e.wordWrap:i.wordWrap,h=e.lengthLimit||i.lengthLimit,l=e.lineClamp||i.lineClamp;y.font=r+" "+(o>>0)+"px "+n,y.fillStyle=e.fontColor||i.fontColor;var f=[],p=String(e.text);if(a){var d=t.getLength(h,c);f=x(y,k(p),function(){return d},l)}else f=p.split("\n");f.forEach(function(i,n){y.fillText(i,v+t.getOffsetX(y.measureText(i).width,c)+t.getLength(e.left,c),m+t.getLength(e.top,u)+(n+1)*t.getLength(s))})})}});for(var p=t.displacement([o,0,c,a],[0,s,a,u]),g=p[0],m=p[1],w=p[2],C=p[3],z=a;z<d+a;){var E=t.displacement([g,z],[z,m]),L=E[0],O=E[1];t.drawImage(y,v,g,m,w,C,L,O,w,C),z+=a}}})},e.prototype.drawBlocks=function(){var t=this;this.config;var e=this.ctx;this._defaultConfig;var i=this._defaultStyle;return this.prizeArea=this.blocks.reduce(function(n,r,o){var s=n.x,a=n.y,c=n.w,u=n.h,h=C(r,t.getLength.bind(t)),l=h[0],f=h[1],p=h[2],d=h[3],g=r.borderRadius?t.getLength(r.borderRadius):0,v=r.background||i.background;return S(v)&&(Z(e,s,a,c,u,g),e.fillStyle=v,e.fill()),r.imgs&&r.imgs.forEach(function(i,n){var r=t.ImageCache.get(i.src);if(r){var o=t.computedWidthAndHeight(r,i,c,u),h=o[0],l=o[1],f=[t.getOffsetX(h,c)+t.getLength(i.left,c),t.getLength(i.top,u)],p=f[0],d=f[1];t.drawImage(e,r,s+p,a+d,h,l)}}),{x:s+p,y:a+l,w:c-p-d,h:u-l-f}},{x:0,y:0,w:this.boxWidth,h:this.boxHeight})},e.prototype.draw=function(){var t,e=this,i=this.config,n=this.ctx;this._defaultConfig,this._defaultStyle,null===(t=i.beforeDraw)||void 0===t||t.call(this,n),n.clearRect(0,0,this.boxWidth,this.boxHeight);var r=this.drawBlocks(),o=r.x,s=r.y,a=r.w,c=r.h;if(this._offscreenCanvas){var u=this.cellWidth,h=this.cellHeight,l=this.cellAndSpacing,f=this.widthAndSpacing,p=this.heightAndSpacing;this.slots.forEach(function(t,i){var r=l*t.order.length,d=e.displacement(-(c-p)/2,-(a-f)/2),g=e.scroll[i]+d;g<0&&(g=g%r+r),g>r&&(g%=r);var v=e.displacement([u*i,g,u,c],[g,h*i,a,h]),y=v[0],m=v[1],w=v[2],b=v[3],k=e.displacement([o+f*i,s,u,c],[o,s+p*i,a,h]),S=k[0],C=k[1],z=k[2],x=k[3];e.drawImage(n,e._offscreenCanvas,y,m,w,b,S,C,z,x)})}},e.prototype.carveOnGunwaleOfAMovingBoat=function(){var t=this,e=this._defaultConfig,i=this.prizeFlag,n=this.cellAndSpacing;this.endTime=Date.now(),this.slots.forEach(function(r,o){var s=r.order;if(s.length)for(var a=r.speed||e.speed,c=r.direction||e.direction,u=s.findIndex(function(t){return t===i[o]}),h=n*s.length,l=t.stopScroll[o]=t.scroll[o],f=0;++f;){var p=n*u+h*f*c-l;if(Math.abs(j(t.FPS,l,p,e.decelerationTime)-l)>a){t.endScroll[o]=p;break}}})},e.prototype.play=function(){var t,e;0===this.step&&(this.startTime=Date.now(),this.prizeFlag=void 0,this.step=1,null===(e=(t=this.config).afterStart)||void 0===e||e.call(t),this.run())},e.prototype.stop=function(t){var e;if(0!==this.step&&3!==this.step){if("number"==typeof t)this.prizeFlag=Array(this.slots.length).fill(t);else{if(!w(t,"array"))return this.stop(-1),console.error("stop() 无法识别的参数类型 "+typeof t);if(t.length!==this.slots.length)return this.stop(-1),console.error("stop(["+t+"]) 参数长度的不正确");this.prizeFlag=t}(null===(e=this.prizeFlag)||void 0===e?void 0:e.includes(-1))?(this.prizeFlag=[],this.step=0):this.step=2}},e.prototype.run=function(t){var e,i,n=this;void 0===t&&(t=0);var r=this.rAF,o=this.step,s=this.prizeFlag,a=this._defaultConfig,c=this.cellAndSpacing,u=this.slots,h=a.accelerationTime,l=a.decelerationTime;if(0!==this.step||(null==s?void 0:s.length)!==u.length){if(void 0===s||s.length){3!==this.step||this.endScroll.length||this.carveOnGunwaleOfAMovingBoat();var f=Date.now()-this.startTime,p=Date.now()-this.endTime;u.forEach(function(e,i){var r=e.order;if(r&&r.length){var d=c*r.length,g=Math.abs(e.speed||a.speed),v=e.direction||a.direction,y=0,m=n.scroll[i];if(1===o||f<h){n.FPS=f/t;var w=F(f,0,g,h);w===g&&(n.step=2),y=(m+w*v)%d}else 2===o?(y=(m+g*v)%d,(null==s?void 0:s.length)===u.length&&(n.step=3,n.stopScroll=[],n.endScroll=[])):3===o&&p&&(y=j(p,n.stopScroll[i],n.endScroll[i],l),p>=l&&(n.step=0));n.scroll[i]=y}}),this.draw(),r(this.run.bind(this,t+1))}}else{for(var d=s[0],g=0;g<u.length;g++){var v=u[g],y=s[g];if(!(null===(e=v.order)||void 0===e?void 0:e.includes(y))||d!==y){d=-1;break}}null===(i=this.endCallback)||void 0===i||i.call(this,this.prizes.find(function(t,e){return e===d})||void 0)}},e.prototype.displacement=function(t,e){return"horizontal"===this._defaultConfig.mode?e:t},e.prototype.displacementWidthOrHeight=function(){var t=this._defaultConfig.mode,e=this.slots.length,i=this._defaultConfig,n=i.colSpacing,r=i.rowSpacing,o=this.prizeArea||this.drawBlocks();o.x,o.y;var s,a,c=o.w,u=o.h,h=0,l=0;return"horizontal"===t?(l=this.cellHeight=(u-r*(e-1))/e,h=this.cellWidth=l):(h=this.cellWidth=(c-n*(e-1))/e,l=this.cellHeight=h),s=this.widthAndSpacing=this.cellWidth+n,a=this.heightAndSpacing=this.cellHeight+r,this.cellAndSpacing="horizontal"===t?s:a,{cellWidth:h,cellHeight:l,widthAndSpacing:s,heightAndSpacing:a}},e}($),N="@lucky-canvas/react",X=function(t){u(i,n.Component);var e=f(i);function i(t){var r;return s(this,i),(r=e.call(this,t)).myLucky=n.createRef(),r.lucky=void 0,r}return c(i,[{key:"componentDidMount",value:function(){if(!this.lucky){this.myLucky.current.setAttribute("package","".concat(N,"@").concat("0.1.13"));try{this.initLucky(),this.props.onSuccess&&this.props.onSuccess()}catch(t){this.props.onError&&this.props.onError(t)}finally{this.props.onFinally&&this.props.onFinally()}}}},{key:"componentDidUpdate",value:function(t){this.lucky&&(this.props.width!==t.width&&(this.lucky.width=this.props.width),this.props.height!==t.height&&(this.lucky.height=this.props.height),this.props.blocks!==t.blocks&&(this.lucky.blocks=this.props.blocks),this.props.prizes!==t.prizes&&(this.lucky.prizes=this.props.prizes),this.props.buttons!==t.buttons&&(this.lucky.buttons=this.props.buttons))}},{key:"initLucky",value:function(){var t=this;this.lucky=new M({flag:"WEB",divElement:this.myLucky.current},o(o({},this.props),{},{start:function(){var e;t.props.onStart&&(e=t.props).onStart.apply(e,arguments)},end:function(){var e;t.props.onEnd&&(e=t.props).onEnd.apply(e,arguments)}}))}},{key:"init",value:function(){var t;(t=this.lucky).init.apply(t,arguments)}},{key:"play",value:function(){var t;(t=this.lucky).play.apply(t,arguments)}},{key:"stop",value:function(){var t;(t=this.lucky).stop.apply(t,arguments)}},{key:"render",value:function(){return n.createElement("div",{ref:this.myLucky})}}]),i}();X.defaultProps={width:"",height:"",prizes:[],blocks:[],buttons:[],defaultStyle:{},defaultConfig:{}},function(t){u(i,n.Component);var e=f(i);function i(t){var r;return s(this,i),(r=e.call(this,t)).myLucky=n.createRef(),r.lucky=void 0,r}return c(i,[{key:"componentDidMount",value:function(){if(!this.lucky){this.myLucky.current.setAttribute("package","".concat(N,"@").concat("0.1.13"));try{this.initLucky(),this.props.onSuccess&&this.props.onSuccess()}catch(t){this.props.onError&&this.props.onError(t)}finally{this.props.onFinally&&this.props.onFinally(err)}}}},{key:"componentDidUpdate",value:function(t){this.lucky&&(this.props.width!==t.width&&(this.lucky.width=this.props.width),this.props.height!==t.height&&(this.lucky.height=this.props.height),this.props.cols!==t.cols&&(this.lucky.cols=this.props.cols),this.props.rows!==t.rows&&(this.lucky.rows=this.props.rows),this.props.blocks!==t.blocks&&(this.lucky.blocks=this.props.blocks),this.props.prizes!==t.prizes&&(this.lucky.prizes=this.props.prizes),this.props.buttons!==t.buttons&&(this.lucky.buttons=this.props.buttons))}},{key:"initLucky",value:function(){var t=this;this.lucky=new H({flag:"WEB",divElement:this.myLucky.current},o(o({},this.props),{},{start:function(){var e;t.props.onStart&&(e=t.props).onStart.apply(e,arguments)},end:function(){var e;t.props.onEnd&&(e=t.props).onEnd.apply(e,arguments)}}))}},{key:"init",value:function(){var t;(t=this.$lucky).init.apply(t,arguments)}},{key:"play",value:function(){var t;(t=this.lucky).play.apply(t,arguments)}},{key:"stop",value:function(){var t;(t=this.lucky).stop.apply(t,arguments)}},{key:"render",value:function(){return n.createElement("div",{ref:this.myLucky})}}]),i}().defaultProps={width:"",height:"",cols:3,rows:3,blocks:[],prizes:[],buttons:[],defaultStyle:{},activeStyle:{},defaultConfig:{}},function(t){u(i,n.Component);var e=f(i);function i(t){var r;return s(this,i),(r=e.call(this,t)).myLucky=n.createRef(),r.lucky=void 0,r}return c(i,[{key:"componentDidMount",value:function(){if(!this.lucky){this.myLucky.current.setAttribute("package","".concat(N,"@").concat("0.1.13"));try{this.initLucky(),this.props.onSuccess&&this.props.onSuccess()}catch(t){this.props.onError&&this.props.onError(t)}finally{this.props.onFinally&&this.props.onFinally(err)}}}},{key:"componentDidUpdate",value:function(t){this.lucky&&(this.props.width!==t.width&&(this.lucky.width=this.props.width),this.props.height!==t.height&&(this.lucky.height=this.props.height),this.props.blocks!==t.blocks&&(this.lucky.blocks=this.props.blocks),this.props.prizes!==t.prizes&&(this.lucky.prizes=this.props.prizes),this.props.slots!==t.slots&&(this.lucky.slots=this.props.slots))}},{key:"initLucky",value:function(){var t=this;this.lucky=new B({flag:"WEB",divElement:this.myLucky.current},o(o({},this.props),{},{start:function(){var e;t.props.onStart&&(e=t.props).onStart.apply(e,arguments)},end:function(){var e;t.props.onEnd&&(e=t.props).onEnd.apply(e,arguments)}}))}},{key:"init",value:function(){var t;(t=this.lucky).init.apply(t,arguments)}},{key:"play",value:function(){var t;(t=this.lucky).play.apply(t,arguments)}},{key:"stop",value:function(){var t;(t=this.lucky).stop.apply(t,arguments)}},{key:"render",value:function(){return n.createElement("div",{ref:this.myLucky})}}]),i}().defaultProps={width:"",height:"",blocks:[],prizes:[],slots:[],defaultStyle:{},defaultConfig:{}}},57079:function(t,e,i){var n=i(11735),r=i(62737),o=i.n(r),s=i(2265),a=i(36495),c=i(1583),u=function(t){if(!t)return 0;var e=o()(t).valueOf()-Date.now();return e<0?0:e};e.Z=function(t){void 0===t&&(t={});var e=t||{},i=e.leftTime,r=e.targetDate,o=e.interval,h=void 0===o?1e3:o,l=e.onEnd,f=(0,s.useMemo)(function(){return(0,c.hj)(i)&&i>0?Date.now()+i:void 0},[i]),p="leftTime"in t?f:r,d=(0,n.CR)((0,s.useState)(function(){return u(p)}),2),g=d[0],v=d[1],y=(0,a.Z)(l);(0,s.useEffect)(function(){if(!p){v(0);return}v(u(p));var t=setInterval(function(){var e,i=u(p);v(i),0===i&&(clearInterval(t),null===(e=y.current)||void 0===e||e.call(y))},h);return function(){return clearInterval(t)}},[p,h]);var m=(0,s.useMemo)(function(){return{days:Math.floor(g/864e5),hours:Math.floor(g/36e5)%24,minutes:Math.floor(g/6e4)%60,seconds:Math.floor(g/1e3)%60,milliseconds:Math.floor(g)%1e3}},[g]);return[g,m]}},70209:function(t,e,i){var n=i(2265),r=i(6764),o=i(1583);e.Z=function(t,e,i){void 0===i&&(i={});var s=(0,r.Z)(t),a=(0,n.useRef)(null),c=(0,n.useCallback)(function(){a.current&&clearInterval(a.current)},[]);return(0,n.useEffect)(function(){if((0,o.hj)(e)&&!(e<0))return i.immediate&&s(),a.current=setInterval(s,e),c},[e,i.immediate]),c}},99016:function(t,e,i){i.d(e,{Z:function(){return p}});var n,r=i(2265),o=i(36495),s=i(1583),a=i(57982);function c(t,e){return a.Z?t?(0,s.mf)(t)?t():"current"in t?t.current:t:e:void 0}var u=i(26413),h=i(64704),l=(n=r.useEffect,function(t,e,i){var o=(0,r.useRef)(!1),s=(0,r.useRef)([]),a=(0,r.useRef)([]),l=(0,r.useRef)();n(function(){var n,r=(Array.isArray(i)?i:[i]).map(function(t){return c(t)});if(!o.current){o.current=!0,s.current=r,a.current=e,l.current=t();return}r.length===s.current.length&&(0,h.Z)(s.current,r)&&(0,h.Z)(a.current,e)||(null===(n=l.current)||void 0===n||n.call(l),s.current=r,a.current=e,l.current=t())}),(0,u.Z)(function(){var t;null===(t=l.current)||void 0===t||t.call(l),o.current=!1})}),f=a.Z&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),p=function(t,e,i){var n=void 0===i?{}:i,s=n.delay,a=void 0===s?300:s,u=n.moveThreshold,h=n.onClick,p=n.onLongPressEnd,d=(0,o.Z)(t),g=(0,o.Z)(h),v=(0,o.Z)(p),y=(0,r.useRef)(),m=(0,r.useRef)(!1),w=(0,r.useRef)({x:0,y:0}),b=!!((null==u?void 0:u.x)&&u.x>0||(null==u?void 0:u.y)&&u.y>0);l(function(){var t=c(e);if(null==t?void 0:t.addEventListener){var i=function(t){var e=h(t),i=e.clientX,n=e.clientY,r=Math.abs(i-w.current.x),o=Math.abs(n-w.current.y);return!!((null==u?void 0:u.x)&&r>u.x||(null==u?void 0:u.y)&&o>u.y)},n=function(t){if(b){var e=h(t),i=e.clientX,n=e.clientY;w.current.x=i,w.current.y=n}y.current=setTimeout(function(){d.current(t),m.current=!0},a)},r=function(t){y.current&&i(t)&&(clearTimeout(y.current),y.current=void 0)},o=function(t,e){var i;void 0===e&&(e=!1),y.current&&clearTimeout(y.current),m.current&&(null===(i=v.current)||void 0===i||i.call(v,t)),e&&!m.current&&g.current&&g.current(t),m.current=!1},s=function(t){return o(t,!0)};return f?(t.addEventListener("touchstart",n),t.addEventListener("touchend",s),b&&t.addEventListener("touchmove",r)):(t.addEventListener("mousedown",n),t.addEventListener("mouseup",s),t.addEventListener("mouseleave",o),b&&t.addEventListener("mousemove",r)),function(){y.current&&(clearTimeout(y.current),m.current=!1),f?(t.removeEventListener("touchstart",n),t.removeEventListener("touchend",s),b&&t.removeEventListener("touchmove",r)):(t.removeEventListener("mousedown",n),t.removeEventListener("mouseup",s),t.removeEventListener("mouseleave",o),b&&t.removeEventListener("mousemove",r))}}function h(t){return t instanceof TouchEvent?{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:t instanceof MouseEvent?{clientX:t.clientX,clientY:t.clientY}:(console.warn("Unsupported event type"),{clientX:0,clientY:0})}},[],e)}},53044:function(t,e,i){var n=i(11735),r=i(2265),o=i(1583);e.Z=function(t){var e=(0,n.CR)((0,r.useState)(t),2),i=e[0],s=e[1];return[i,(0,r.useCallback)(function(t){s(function(e){var i=(0,o.mf)(t)?t(e):t;return i?(0,n.pi)((0,n.pi)({},e),i):e})},[])]}},16463:function(t,e,i){var n=i(71169);i.o(n,"usePathname")&&i.d(e,{usePathname:function(){return n.usePathname}}),i.o(n,"useRouter")&&i.d(e,{useRouter:function(){return n.useRouter}}),i.o(n,"useSearchParams")&&i.d(e,{useSearchParams:function(){return n.useSearchParams}})},58604:function(t,e){e.Z=function(t,e,i,n){for(var r=t.length,o=i+(n?1:-1);n?o--:++o<r;)if(e(t[o],o,t))return o;return -1}},64276:function(t,e,i){i.d(e,{Z:function(){return r}});var n=function(t,e,i){var n=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(i=i>r?r:i)<0&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var o=Array(r);++n<r;)o[n]=t[n+e];return o},r=function(t,e,i){var r=t.length;return i=void 0===i?r:i,!e&&i>=r?t:n(t,e,i)}},81667:function(t,e){var i=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.Z=function(t){return i.test(t)}},47118:function(t,e,i){i.d(e,{Z:function(){return v}});var n=(0,i(66031).Z)("length"),r=i(81667),o="\ud800-\udfff",s="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\ud83c[\udffb-\udfff]",c="[^"+o+"]",u="(?:\ud83c[\udde6-\uddff]){2}",h="[\ud800-\udbff][\udc00-\udfff]",l="(?:"+s+"|"+a+")?",f="[\\ufe0e\\ufe0f]?",p="(?:\\u200d(?:"+[c,u,h].join("|")+")"+f+l+")*",d=RegExp(a+"(?="+a+")|(?:"+[c+s+"?",s,u,h,"["+o+"]"].join("|")+")"+(f+l+p),"g"),g=function(t){for(var e=d.lastIndex=0;d.test(t);)++e;return e},v=function(t){return(0,r.Z)(t)?g(t):n(t)}},93952:function(t,e,i){i.d(e,{Z:function(){return d}});var n=i(81667),r="\ud800-\udfff",o="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",s="\ud83c[\udffb-\udfff]",a="[^"+r+"]",c="(?:\ud83c[\udde6-\uddff]){2}",u="[\ud800-\udbff][\udc00-\udfff]",h="(?:"+o+"|"+s+")?",l="[\\ufe0e\\ufe0f]?",f="(?:\\u200d(?:"+[a,c,u].join("|")+")"+l+h+")*",p=RegExp(s+"(?="+s+")|(?:"+[a+o+"?",o,c,u,"["+r+"]"].join("|")+")"+(l+h+f),"g"),d=function(t){return(0,n.Z)(t)?t.match(p)||[]:t.split("")}},91972:function(t,e,i){i.d(e,{Z:function(){return a}});var n,r=i(46275),o=i(70642),s=i(39922),a=(n=i(1779).Z,function(t,e,i){var a=Object(t);if(!(0,o.Z)(t)){var c=(0,r.Z)(e,3);t=(0,s.Z)(t),e=function(t){return c(a[t],t,a)}}var u=n(t,e,i);return u>-1?a[c?t[u]:u]:void 0})},1779:function(t,e,i){var n=i(58604),r=i(46275),o=i(56516),s=Math.max;e.Z=function(t,e,i){var a=null==t?0:t.length;if(!a)return -1;var c=null==i?0:(0,o.Z)(i);return c<0&&(c=s(a+c,0)),(0,n.Z)(t,(0,r.Z)(e,3),c)}},10443:function(t,e,i){var n=i(98792),r=i(93242),o=i(82494),s=i(58771),a=i(70642),c=i(40328),u=i(83022),h=i(29174),l=Object.prototype.hasOwnProperty;e.Z=function(t){if(null==t)return!0;if((0,a.Z)(t)&&((0,s.Z)(t)||"string"==typeof t||"function"==typeof t.splice||(0,c.Z)(t)||(0,h.Z)(t)||(0,o.Z)(t)))return!t.length;var e=(0,r.Z)(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if((0,u.Z)(t))return!(0,n.Z)(t).length;for(var i in t)if(l.call(t,i))return!1;return!0}},38475:function(t,e,i){i.d(e,{Z:function(){return d}});var n=Math.floor,r=function(t,e){var i="";if(!t||e<1||e>9007199254740991)return i;do e%2&&(i+=t),(e=n(e/2))&&(t+=t);while(e);return i},o=i(65220),s=i(64276),a=i(81667),c=i(47118),u=i(93952),h=Math.ceil,l=function(t,e){var i=(e=void 0===e?" ":(0,o.Z)(e)).length;if(i<2)return i?r(e,t):e;var n=r(e,h(t/(0,c.Z)(e)));return(0,a.Z)(e)?(0,s.Z)((0,u.Z)(n),0,t).join(""):n.slice(0,t)},f=i(56516),p=i(11660),d=function(t,e,i){t=(0,p.Z)(t);var n=(e=(0,f.Z)(e))?(0,c.Z)(t):0;return e&&n<e?l(e-n,i)+t:t}},18108:function(t,e,i){i.d(e,{Z:function(){return h}});var n=i(98792),r=i(93242),o=i(70642),s=i(38637),a=i(58771),c=i(97736),u=i(47118),h=function(t){if(null==t)return 0;if((0,o.Z)(t))return"string"==typeof t||!(0,a.Z)(t)&&(0,c.Z)(t)&&"[object String]"==(0,s.Z)(t)?(0,u.Z)(t):t.length;var e=(0,r.Z)(t);return"[object Map]"==e||"[object Set]"==e?t.size:(0,n.Z)(t).length}},56516:function(t,e,i){i.d(e,{Z:function(){return g}});var n=/\s/,r=function(t){for(var e=t.length;e--&&n.test(t.charAt(e)););return e},o=/^\s+/,s=i(48676),a=i(46992),c=0/0,u=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt,p=function(t){if("number"==typeof t)return t;if((0,a.Z)(t))return c;if((0,s.Z)(t)){var e,i="function"==typeof t.valueOf?t.valueOf():t;t=(0,s.Z)(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=(e=t)?e.slice(0,r(e)+1).replace(o,""):e;var n=h.test(t);return n||l.test(t)?f(t.slice(2),n?2:8):u.test(t)?c:+t},d=1/0,g=function(t){var e,i=(e=t)?(e=p(e))===d||e===-d?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0,n=i%1;return i==i?n?i-n:i:0}},86575:function(t,e,i){i.d(e,{Z:function(){return g}});var n=i(46275),r=i(62690),o=i(58604),s=function(t){return t!=t},a=function(t,e,i){for(var n=i-1,r=t.length;++n<r;)if(t[n]===e)return n;return -1},c=function(t,e){return!!(null==t?0:t.length)&&(e==e?a(t,e,0):(0,o.Z)(t,s,0))>-1},u=function(t,e,i){for(var n=-1,r=null==t?0:t.length;++n<r;)if(i(e,t[n]))return!0;return!1},h=i(64747),l=i(70217),f=i(98386),p=l.Z&&1/(0,f.Z)(new l.Z([,-0]))[1]==1/0?function(t){return new l.Z(t)}:function(){},d=function(t,e,i){var n=-1,o=c,s=t.length,a=!0,l=[],d=l;if(i)a=!1,o=u;else if(s>=200){var g=e?null:p(t);if(g)return(0,f.Z)(g);a=!1,o=h.Z,d=new r.Z}else d=e?[]:l;t:for(;++n<s;){var v=t[n],y=e?e(v):v;if(v=i||0!==v?v:0,a&&y==y){for(var m=d.length;m--;)if(d[m]===y)continue t;e&&d.push(y),l.push(v)}else o(d,y,i)||(d!==l&&d.push(y),l.push(v))}return l},g=function(t,e){return t&&t.length?d(t,(0,n.Z)(e,2)):[]}}}]);